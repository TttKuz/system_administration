### Глава 27: СЛУЖБА УДАЛЕННОГО ДОСТУПА
1. **Основы службы удаленного доступа**
2. **Требования и политика**
3. **Централизация и безопасность**
4. **Привлечение сторонних исполнителей**
5. **Аутентификация и автоматизация**
6. **Тонкости**
### Основы службы удаленного доступа
Служба удаленного доступа предоставляет авторизованным лицам возможность подключаться к сети компании из различных мест, будь то дом, офис или любое другое место в мире. Удаленный доступ связан с множеством проблем, таких как необходимость проверки электронной почты и доступа к данным в пути или возможность работы из дома.
### Требования и политика
Для создания службы удаленного доступа необходимо учитывать различные требования пользователей. Важно определить, какие уровни обслуживания будут предоставляться, и документировать эти решения. Политика удаленного доступа должна определять допустимое использование службы, правила безопасности и обязанности пользователей.
### Централизация и безопасность
Удаленный доступ выигрывает от централизации, особенно в аспектах безопасности. Централизация аутентификации позволяет обеспечить нормальную проверку и контроль доступа. Это также помогает снизить затраты на исследование и поддержку новых технологий.
### Привлечение сторонних исполнителей
Для управления постоянно изменяющимися технологиями удаленного доступа можно привлекать сторонних исполнителей. Это позволяет компаниям сосредоточиться на других задачах, не занимаясь постоянной оценкой и поддержкой новых технологий. Поставщики услуг должны оцениваться по критериям, таким как территориальное покрытие, поддерживаемые технологии, соглашение об уровне обслуживания и безопасность.
### Аутентификация и автоматизация
Система аутентификации и авторизации должна быть создана и поддерживаться самостоятельно, даже если другие аспекты передаются сторонним исполнителям. Это снижает затраты на администрирование и вероятность ошибок при отключении доступа сотрудников. Автоматизация может упростить часто выполняемые задачи и обеспечить их надежное выполнение.
### Тонкости
Есть несколько способов улучшить службу удаленного доступа, когда она будет работать. Для людей, которые постоянно работают дома, обратите внимание на другие потребности бизнеса, помимо простого доступа к сети. Работа из дома включает в себя не только сетевое соединение, но и использование телефона для нужд бизнеса, отправку и получение факсов, печать, копирование, установку конференцсвязи и участие в конференциях. Сотрудникам может потребоваться возможность оставаться подключенным к сети, телефону и одновременно получать факс. Кроме того, они не захотят каждый месяц изучать свои телефонные счета и запрашивать оплату всех своих деловых звонков.
Расходы на удаленный доступ могут быстро накапливаться и обычно являются скрытыми для тех, кто их несет. Когда система удаленного доступа будет работать, ищите способы сокращения расходов без негативного влияния на службу. Большинство служб удаленного доступа предоставляют бесплатные номера телефонов, на которые люди могут звонить, что дорого обходится компании. Предоставление местных номеров в области с большим количеством пользователей удаленного доступа может снизить расходы. Кроме того, обратите внимание на людей, которые пользуются службой больше всего (из фиксированного места), и посмотрите, возможно ли установить здесь постоянное безлимитное соединение и может ли оно быть более выгодным. Максимально автоматизируйте этот процесс, в том числе создайте механизм уведомления людей, которые пользуются бесплатным номером, если они могут использовать местный номер.
Системные администраторы, которые вынуждены строить и поддерживать службы удаленного доступа, сталкиваются с проблемой попытки не отставать от новых технологий и принятия решений, какие из них реализовывать. В таком случае системным администраторам требуется одновременно поддерживать все новые и старые технологии, что приводит к постоянному росту расходов на поддержку. В этой области традиционные модемы имеют преимущество, потому что они поддерживают обратную совместимость. Можно обновить модемный пул компании до самой современной и быстрой технологии и при этом поддерживать людей, у которых есть более старые модемы. У других технологий удаленного доступа нет такого преимущества.

### Глава 28: БАЗА ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ
1. **Основы базы программного обеспечения**
2. **Технические требования и политика**
3. **Выбор и документация**
4. **Тонкости**
### Основы базы программного обеспечения
База программного обеспечения — это способ обеспечить доступность большого количества программных пакетов для многих узлов. В UNIX традиционно используется глобально доступная директория /usr/local/bin, которая совместно используется всеми узлами в кластере. В Windows существует другая традиция, предполагающая хранилище устанавливаемых дистрибутивов. Хорошая база программного обеспечения делает даже самую слабую операционную систему богатой и полезной. Пользователи могут привыкнуть к этим преимуществам и считать их само собой разумеющимися.
### Технические требования и политика
База программного обеспечения должна быть основана на требованиях пользователей. Важно понять, чего хотят пользователи от базы. Их потребности могут быть узкими или широкими, ограниченными руководством или правовыми требованиями. Пользователям может понадобиться доступ к нескольким версиям основного инструмента, например, компилятора, при переходе на более новую версию.
Необходима политика, которая указывает, кто может размещать программные пакеты в базе. В политике должны быть разобраны следующие вопросы:
- Кто может собирать и устанавливать пакеты? Может быть назначен один или несколько человек, которые будут заниматься этим полный рабочий день.
- Что произойдет, если поддерживающий базу специалист покинет организацию? Если конкретные пакеты поддерживаются конкретными людьми, в политике должно быть указано, что делать, если этот человек уволится.
- Какие операционные системы поддерживаются? Существует ли база для каждой используемой ОС или только для нескольких? В UNIX можно иметь одну базу для всех ОС и использовать скрипты-оболочки, чтобы обходить различия систем.
- Если вы используете оболочки, существует ли стандартная оболочка или шаблон, который все должны применять?
- Как осуществляется обновление? Когда появляется новая версия или пакет, кто отвечает за его установку?
- Как решается проблема ошибок? Предполагается ли, что поддерживающий базу специалист будет отлаживать пакеты с открытым исходным кодом.
- Каков охват распространения? Создана ли эта база для кластера, подразделения или всей организации?
### Выбор и документация
Для систем UNIX рекомендуется выбрать существующую систему управления базой, а не разрабатывать её с нуля. Даже если вы считаете, что ваша среда особенно специфична, проще настроить существующую программу, чем изобрести новую. Вне зависимости от выбора программы важно документировать локальную процедуру внесения в систему новых программных пакетов. Хотя документация, поставляемая с диспетчером пакетов, полезна, данный документ должен содержать местные особенности, например, имена узлов, управляющих системой.
### Тонкости
Несмотря на то что задача базы программного обеспечения — предоставлять всем узлам одни и те же программы, высший уровень — обеспечивать индивидуальную настройку для различных узлов. Часто требуется возможность обеспечения немного отличающихся конфигураций для различных узлов или кластеров узлов. Если конфигурация пакета должна сильно отличаться для разных узлов, может быть удобно, чтобы файл конфигурации в базе был просто символической ссылкой на локальный файл.
Если доступ к вашей базе под UNIX выполняется по сети, может быть удобно скопировать часто используемые пакеты на локальный диск. Например, на рабочей станции разработчика, на которой есть свободное дисковое пространство, могут локально храниться самые последние версии средств разработки.
Включение в базу коммерческой программы может быть сложным из-за лицензирования. Если у вас есть корпоративная лицензия, коммерческие программы можно включать в базу, как все остальное. Если программа автоматически связывается с определенным сервером лицензий, который принимает решение о наличии или отсутствии лицензии, программа может быть доступна любому, потому что для неавторизованных пользователей она будет бесполезна.

### Глава 29: ВЕБ-СЛУЖБЫ
1. **Основы управления веб-системами**
2. **Основные элементы веб-службы**
3. **Роль веб-мастера и соглашения об уровне обслуживания**
4. **Архитектуры веб-служб**
5. **Мониторинг**
6. **Расширение веб-служб**
7. **Безопасность веб-службы**
8. **Управление содержимым**
9. **Тонкости**
### Основы управления веб-системами
Управление веб-системами стало важной частью системного администрирования, требующей специальных подходов и специальностей. Теоретически мы уже охватили весь материал, необходимый для успешного запуска веб-службы или веб-приложения. Веб-сайт — это способ представления пользователями информации и приложений через модель клиент/сервер. Доступ к веб-контенту обычно осуществляется клиентской программой, называемой броузером, но может выполняться любой программой, поддерживающей HTTP.
### Основные элементы веб-службы
Унифицированный указатель ресурса (URL) — это адрес информации в Сети. URL состоит из имени узла и пути к ресурсу. Веб-клиент получает страницу, интерпретирует её и отображает пользователю. Веб-броузер — это универсальный клиент. Раньше каждому серверному приложению требовалось развертывание особых клиентских программ, что тормозило прогресс. Революционной Сеть делает возможность создания новых служб без необходимости написания новых клиентских программ. Существует много специальных форматов, которые часто строятся на основе других. XML — отличный формат для создания других форматов, или микроформатов. Одним из популярных микроформатов является RSS-канал, формат, который указывает таблицу содержимого ресурса, например, блога или новостного сайта.
### Роль веб-мастера и соглашения об уровне обслуживания
Веб-мастер — это человек, который управляет содержимым веб-сайта, во многом подобно тому, как редактор управляет содержимым газеты. Он отвечает за установку политики веб-сайта. Эту роль часто путают с системным администратором веб-сервера, который устанавливает сервер, программы и т. д. Веб-мастер занимается содержимым, системный администратор веб-сервера поддерживает технические устройства — физические и виртуальные, — которые составляют веб-сайт.
Если вам трудно создать подходящее SLA для веб-службы, обратитесь к группе пользователей, которые будут её применять. В идеальном случае, как и с любым SLA, уровень обслуживания должен устанавливаться в контакте с сообществом пользователей. Мы рекомендуем вам отклонять любое SLA, которое не позволяет проводить периодическое обслуживание, если служба не построена на избыточной инфраструктуре. Если служба предоставляется одним узлом или общим веб-узлом и должна быть доступна круглосуточно, пора обсудить повышение избыточности службы.
### Архитектуры веб-служб
Различным типам содержимого требуются разные инфраструктуры подачи. Потребности одиночного веб-сервера, предоставляющего неизменный документ, отличаются от потребностей страницы, предоставляющей динамическое содержимое. Веб-серверы, которые будут доступны из Интернета, а не только внутри организации, требуют особого внимания к безопасности.
- **Статический веб-сервер**: предоставляет только те документы, которые не изменяются или изменяются редко. Документы статичны в том плане, что они читаются напрямую с диска и не изменяются в процессе доставки веб-сервером.
- **CGI-серверы**: динамически генерируют страницы. Из-за того, что для каждой страницы выполняется большое количество работы, эти серверы часто не могут предоставлять столько же страниц в секунду, сколько статические серверы.
- **Веб-сайты на основе баз данных**: один из наиболее распространенных типов веб-приложений — доступ к информации в базе данных и её модификация.
- **Мультимедийные серверы**: веб-серверы, на которых есть содержимое, включающее медиа-файлы, например, видео или аудио.
- **Несколько серверов на одном узле**: есть два основных варианта предоставления отдельного сервера без необходимости наличия отдельной машины.
### Мониторинг
Мониторинг ваших веб-служб позволяет вам выяснить, насколько хорошо вы расширяетесь, определить направления совершенствования и убедиться в том, что вы выполняете своё SLA. Большая часть информации, необходимой вам для организации мониторинга веб-служб, рассмотрена в главе 22. Вы можете захотеть внести в свой мониторинг несколько элементов, характерных именно для Сети. Ошибки веб-серверов чаще всего связаны с проблемами с содержимым сайта, и информация о них часто является ценной для группы веб-разработчиков. Определенные ошибки или тенденции повторения ошибок могут быть показателем проблем пользователя со скриптами сайта. Другие ошибки могут показывать попытку вторжения. Такие ситуации требуют дальнейшего изучения.
### Расширение веб-служб
Если ваш веб-сервер будет успешным, вы будете перегружены запросами. Есть несколько методов расширения. Небольшая организация с базовыми потребностями может повысить быстродействие веб-сервера просто за счет модернизации процессора, дисков, памяти и сетевого подключения — по отдельности или вместе.
- **Горизонтальное расширение**: веб-сервер или ресурс веб-службы воспроизводится, а загрузка разделяется между воспроизведенными ресурсами. Например, два веб-сервера с одним содержимым, каждый из которых получает примерно половину запросов. Исходящие запросы должны направляться на различные серверы. Один из способов добиться этого — пользоваться циклическими записями на DNS-серверах. DNS настраивается таким образом, чтобы в ответ на запрос IP-адреса одного имени (www.example.com) в случайном порядке выдавались разные IP-адреса. Клиент обычно пользуется только первым полученным IP-адресом, таким образом, нагрузка распределяется по различным копиям.
- **Вертикальное расширение**: разделить различные виды служб, используемых при создании веб-страницы, а не дублировать всю машину. Такое вертикальное расширение позволяет вам создать архитектуру с более тонкой обработкой, выделить больше ресурсов на наиболее интенсивно используемые этапы создания страницы. Кроме того, исключается конкуренция различных типов запросов на ресурсы одной системы.
- **Выбор метода расширения**: сайт может включать статические файлы, CGI-программы и базу данных. Статические файлы могут варьироваться от небольших документов до крупных мультимедийных файлов. CGI-программы могут интенсивно использовать память или ресурсы процессора, а также выдавать большие объемы выходных данных. Базы данных обычно требуют львиную долю системных ресурсов. Пользуйтесь диагностикой системы и логами, чтобы посмотреть, какие типы ресурсов используются этими компонентами. В некоторых случаях, таких как сайт опроса о видеоклипах, вы можете предпочесть перенести часть службы на другой сервер. Другой пример — веб-сервер подразделения информационных систем, который также используется для создания графиков системных логов. Этот процесс может очень интенсивным

### Глава 30: ОРГАНИЗАЦИОННАЯ СТРУКТУРА
1. **Основы организационной структуры**
2. **Определение размеров и финансирования**
3. **Влияние цепи управления и подбор навыков**
4. **Группы инфраструктуры и поддержка пользователей**
5. **Служба поддержки и аутсорсинг**
6. **Тонкости**
### Основы организационной структуры
Структура группы системного администрирования и её интеграция в большую организацию являются ключевыми факторами успеха или неудачи. Создание эффективной организации, в которой отсутствуют внутренние конфликты и конфликты с пользовательской базой, — это сложная задача. Правильное определение размера и финансирование отдела системного администрирования, чтобы группа могла предоставлять хороший уровень обслуживания и при этом не была финансовым грузом компании, — это ещё одна непростая задача.
### Определение размеров и финансирования
Правильно определить размер вашей группы системного администрирования довольно сложно. Если она слишком маленькая, это будет неэффективно, и остальная часть компании может страдать от ненадежной инфраструктуры и плохой службы поддержки пользователей. Если группа слишком большая, компания будет нести ненужные расходы, и общение между системными администраторами станет более сложным. На практике в группах системного администрирования чаще бывает недобор персонала, нежели перебор. Слишком большое количество служащих, как правило, связано с отсутствием необходимого набора навыков в организации. Если у группы системного администрирования есть проблемы с поддержкой пользователей или с предоставлением нужного уровня обслуживания и надежности, простое увеличение количества персонала может и не быть выходом из сложившейся ситуации. Задумайтесь над приобретением отсутствующих навыков посредством тренингов или консультаций, прежде чем набирать новых людей.
### Влияние цепи управления и подбор навыков
Цепь управления может существенно влиять на то, как работает организация системного администрирования. В быстро развивающихся компаниях информационные технологии могут находиться в ведении главного технического директора, на которого, кроме того, лежит ответственность за инженерные и исследовательские отделы, а также отдел разработки. В других компаниях системное администрирование подчиняется хозяйственному отделу и отчитывается перед главным исполнительным директором либо перед главным финансовым директором.
При создании группы системного администрирования менеджерам по персоналу необходимо собрать самодостаточную группу с разнообразными наборами навыков и должностями. Обязанности системных администраторов можно разделить на четыре основные группы. Группа системного администрирования очень много выиграет от наличия специалистов широкого профиля, которые имеют глубокое понимание того, как работают и взаимодействуют практически все компоненты. Эти системные администраторы могут решать сложные, сквозные проблемы, которые могут быть не под силу системным администраторам, специализирующимся только в одной или двух областях. Специалистов широкого профиля часто называют специалистами по интеграции, потому что они эффективно объединяют различные технологии для создания наилучших систем и служб.
### Группы инфраструктуры и поддержка пользователей
По мере роста компании потребуются люди, занимающиеся исключительно поддержкой инфраструктуры. Группа инфраструктуры будет следить за такими централизованными службами, как аутентификация, печать, электронная почта, служба имен, календарная служба, сети, удаленный доступ, службы директорий и безопасность. Группа инфраструктуры должна быть сплоченным подразделением, даже если она распределена по нескольким местам. Инфраструктура компании должна быть целостной и непрерывной во всех подразделениях. Если различные группы управляют разными частями инфраструктуры, они смогут не прийти к согласию в вопросах использования протоколов и интерфейсов между компонентами, что приведет к нежелательным результатам.
Поддержка пользователей — ключевой элемент функций системного администрирования. Поддерживать пользователей означает обеспечивать им возможность работать эффективно. Это, в свою очередь, означает, что все их компьютерные требования должны быть частью общего решения. Поддержка пользователей дает лучшие результаты при распределенной модели, в отличие от поддержки инфраструктуры. При централизованной модели связь между системными администраторами, как правило, сильная, а взаимодействие с пользовательской базой, напротив, слабое. Централизованная модель может привести к ситуации «мы против них» с обеих сторон. С другой стороны, это, как правило, компенсируется сильной инфраструктурой и более целостной и надежной организацией. Однако пользователям может показаться, что им не уделяют достаточно внимания, и проекты для отдельных подразделений могут неприемлемо задерживаться из-за проектов инфраструктуры или других подразделений. Каждое подразделение будет страдать от отсутствия собственного системного администратора для своих специфических нужд.
### Служба поддержки и аутсорсинг
Первый уровень службы поддержки пользователей — это уровень, который лучше всего работает при централизованном подходе. Это организация, которая получает первоначальные сообщения о проблемах и разрешает базовые вопросы, в противном случае отправляя запрос в соответствующую область. Пользователям нужен единый телефон, адрес электронной почты и веб-страница для отправки запросов в службу поддержки. Пользователи не хотят ни запоминать, какое конкретно подразделение занимается данной проблемой, ни рисковать тем, что их запрос затеряется между подразделениями, потому что тот, кто принял запрос, не знает, кто должен его выполнить.
Передача функции системного администрирования сторонним организациям может показаться приемлемым решением для некоторых организаций, потому что область системного администрирования, как правило, находится вне основной деятельности компании. Если системное администрирование не является ключевой частью бизнеса компании, компания может предпочесть привлечь стороннюю компанию для выполнения всех его функций. В этом случае компании необходимо лишь подписать контракт и не беспокоиться о найме системных администраторов, заработной плате, удержании сотрудников и всех других проблемах, связанных с наемными рабочими. Компаниям иного типа не следует передавать IT-функции другим компаниям или нужно делать это крайне осторожно.
### Тонкости
Консультанты, которые являются экспертами в своих областях, могут быть полезным временным дополнением к группе системного администрирования. Консультант должен быть вовлечен в процесс.
